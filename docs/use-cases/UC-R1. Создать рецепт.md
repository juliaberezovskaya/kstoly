# UC-R1. Создать рецепт

*Автор*: Березовская Юлия
*Дата создания*: 25.11.2025

[Схема](diagrams/Управление%20рецептом.png)

---

## 1. Основное действующее лицо
Организатор

---

## 2. Дополнительные действующие лица
Отсутствуют

---

## 3. Описание
Организатор создаёт новый рецепт, вводит необходимые данные и сохраняет его в личной библиотеке рецептов.


---

## 4. Условие-триггер
Организатор выбирает действие “Создать рецепт” в приложении.

---

## 5. Предварительные условия
PRE-1. Приложение "К столу!" доступно для организатора  

---

## 6. Выходные условия
POST-1. Новый рецепт сохранён в системе.
POST-2. Новый рецепт отображается в библиотеке рецептов Организатора.
POST-3. Новый рецепт теперь доступен для добавления в мероприятия.

---

## 7. Нормальное направление (основной поток)

1. Организатор выбирает действие «Создать рецепт».
2. Система отображает пустую форму создания рецепта.
3. Организатор вводит данные рецепта (в соответствии с BR-R1).
4. Организатор инициирует сохранение рецепта.
5. Система сохраняет рецепт.
6. Система подтверждает успешное создание рецепта и отображает созданный рецепт.

---

## 8. Альтернативные направления
### A1. Отмена создания рецепта  
1. Организатор выбирает действие «Отмена».
2. Система закрывает форму создания рецепта без сохранения данных.

---

## 9. Исключения

### E1. Ошибка валидации данных
1. Организатор вводит данные, нарушающие бизнес-правила (см. BR-R1).
2. Система применяет общие правила обработки ошибок (см. BR–S3).
3. Пользователь остаётся на текущем экране.


### E2. Ошибка сохранения рецепта
1. На шаге 6 основного потока при сохранении рецепта система сталкивается с технической ошибкой.
2. Система применяет общие правила обработки ошибок (см. BR–S1-S2).
3. Пользователь остаётся на текущем экране.


### E3. Конфликт названия рецепта
1. Организатор вводит название рецепта, которое уже существует среди его рецептов.
2. При попытке сохранения система сообщает о конфликте и просит изменить название.
3. Сценарий возвращается к шагу 3 основного потока.

---

## 10. Приоритет
**Высокий**

---

## 11. Бизнес-правила
- [BR-R1](../business-rules.md#br-r1-содержание-рецепта-br-recipescontent) 
- [BR–S2](../business-rules.md#br-s-общие-правила-обработки-ошибок)

---

## 12. Другая информация

- Связанные US: [US-R1](../user-stories.md#us-r1-как-организатор-я-хочу-создавать-свои-рецепты-в-одном-понятном-и-структурированном-месте-чтобы-быстро-находить-их-и-повторять-нужные-блюда)

- Связанные FR: 
- [FR-R1.4](../srs/3.%20Функции%20системы/3.1.%20Управление%20рецептами.md#fr-r14)
- [FR-R3.1](../srs/3.%20Функции%20системы/3.1.%20Управление%20рецептами.md#fr-r31)
- [FR-R3.1a](../srs/3.%20Функции%20системы/3.1.%20Управление%20рецептами.md#fr-r31a)
- [FR-R3.1b](../srs/3.%20Функции%20системы/3.1.%20Управление%20рецептами.md#fr-r31b)
- [FR-R3.14](../srs/3.%20Функции%20системы/3.1.%20Управление%20рецептами.md#fr-r314)

- Организатор должен иметь возможность отменить создание рецепта до сохранения.
- В будущем может появиться возможность автопарсинга рецептов
- В рамках UC-E3 создание рецепта происходит как включаемый-сценарий

---

## 13. Предположения
- P1. Предполагается, что Организатор вводит рецепт, структура которого соответствует требованиям бизнес-правил BR-R1.

