# UC-E7. Повторить мероприятие (создать новое на основе архивного).

*Автор*: Березовская Юлия
*Дата создания*: 28.11.2025

[Схема]()

---

## 1. Основное действующее лицо
Организатор

---

## 2. Дополнительные действующие лица
Отсутствуют

---

## 3. Описание
Организатор создаёт новое мероприятие на основе существующего.

---

## 4. Условие-триггер
Организатор выбирает действие «Повторить мероприятие».

---

## 5. Предварительные условия
PRE-1. Организатор имеет доступ к открытому мероприятию (активному или архивному).

---

## 6. Выходные условия
POST-1. Новое мероприятие создано, добавлено в список мероприятий и открыто в режиме редактирования.
POST-2. Новое мероприятие содержит копию рецептов и порций исходного мероприятия (см. BR-E4.2, BR-E4.3).
POST-3. Список покупок нового мероприятия будет сформирован автоматически при переходе к UC-L1.

---

## 7. Нормальное направление (основной поток)
1. Организатор выбирает действие «Повторить мероприятие».
2. Система предлагает ввести новые метаданные мероприятия (дату, название... BR-E1).
3. Организатор вводит новые метаданные мероприятия.
4. Система создаёт новое мероприятие, которое содержит копию рецептов из существующего.
5. Система сохраняет новое мероприятие и уведомляет пользователя об успешном создании мероприятия.

---

## 8. Альтернативные направления
### A1. Отмена создания мероприятия  
1. Организатор выбирает действие «Отмена».
2. Система закрывает форму создания мероприятия без сохранения данных.

---

## 9. Исключения

### E1. Ошибка валидации данных
1. Организатор вводит данные, нарушающие бизнес-правила (см. BR-E1).
2. Система отображает сообщение об ошибке и указывает, какие поля нужно исправить.
3. Сценарий возвращается к шагу 3 основного потока.

### E2. Ошибка сохранения мероприятия
1. На шаге 6 основного потока при сохранении мероприятия система сталкивается с технической ошибкой (недоступен сервер/база данных, потеря соединения и т.п.).
2. Система сообщает Организатору о невозможности сохранить мероприятие и предлагает повторить попытку позже или ещё раз.
3. Система сохраняет состояние формы (все введённые поля остаются заполненными).
4. Сценарий может быть продолжен с шага 4 основного потока (Организатор может повторно инициировать сохранение) или завершён по A1 «Отмена создания мероприятия.

### E3. Конфликт названия и времени проведения мероприятия
1. Организатор вводит название и дату мероприятия, которое уже существует среди его мероприятий.
2. При попытке сохранения система сообщает о конфликте и просит изменить название.
3. Сценарий возвращается к шагу 3 основного потока.


---

## 10. Приоритет
**Высокий**

---

## 11. Бизнес-правила
- BR-E1, BR-E4

---

## 12. Другая информация

- Связанные US: US-E8.

---

## 13. Предположения

